# LocalHTLCFailureReason isn't forwards-compatible

It uses `impl_writeable_tlv_based_enum`:

Q: Why isn't it forwards-compatible?
- Right now we write each variant with a unique ID (which is what we
  give to the macro).
- If we don't manage to match the macro, then we get an
  `UnknownRequiredFeature` error
- Old versions of the software won't be able to read new versions of
  the serialization (they'll break on the new unknown ID).

Why can't we use `impl_writeable_tlv_based_enum_upgradable`?
- We use `LocalHTLCFailureReason` in `HTLCHandlingFailureReason`
- We need to be able to implement `Readable` and `Writable` for `Event`
- We implement MaybeReadable with the upgradable macro! 

So we need to be able to handle the fact that it's `MaybeReadable`
in a `Readable` context?

Q: Are any of the `_upgradable` htlcs used in a `Readable` context?
- `HTLCHandlingFailureType`: this is pretty similar to what we have
- `APIError`
- `PathFailure`
- `ClosureReason`
- `PaymentFailureReason`

Q: seems like is just has to be an option on the API?
- Most of them look like they're upgradable

Q: How to make the upgrade of enums work if we're using upgradable?  
- I think we should manually handle the error somewhere? 
